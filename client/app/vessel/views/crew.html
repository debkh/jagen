<md-dialog aria-label="Crew"  ng-cloak>
    <md-toolbar>
        <div class="md-toolbar-tools">
            <h2>Участники экипажа - <b>{{ vm.vessel.title }}</b></h2>
            <span flex></span>
            <md-button class="md-icon-button" aria-label="Close Dialog" ng-click="vm.cancel()">
                <md-icon md-font-icon="fa fa-close"></md-icon>
            </md-button>
        </div>
    </md-toolbar>
    <md-dialog-content>
        <div class="md-dialog-content">
            <md-table-container ng-if="vm.participants.length">
                <table md-table multiple md-progress="promise">
                    <thead md-head md-order="query.order" md-on-reorder="getDesserts">
                    <tr md-row>
                        <th md-column md-order-by="nameToLower"><span>ФИО участника</span></th>
                        <th md-column>Управление</th>
                    </tr>
                    </thead>
                    <tbody md-body>
                    <tr md-row ng-repeat="participant in vm.participants">
                        <td md-cell>{{ participant.first_name }} {{ participant.last_name}}</td>
                        <td md-cell>
                            <md-button ng-click="vm.editParticipant(participant)" aria-label="edit">
                                <md-tooltip md-direction="top">
                                    Редактировать
                                </md-tooltip>
                                <md-icon md-font-icon="fa fa-pencil"></md-icon>
                            </md-button>
                            <md-button ng-click="vm.deleteParticipant(participant)" aria-label="remove">
                                <md-tooltip md-direction="top">
                                    Удалить
                                </md-tooltip>
                                <md-icon md-font-icon="fa fa-trash-o"></md-icon>
                            </md-button>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </md-table-container>
            <p  ng-if="!vm.participants.length">Нет еще участников</p>
        </div>
    </md-dialog-content>
    <md-dialog-actions layout="row">
        <md-button  ng-click="vm.addParticipant(vm.vessel);" class="md-raised md-button">Добавить участника</md-button>
        </md-button>
    </md-dialog-actions>
</md-dialog>